<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 18px; font-weight: bold; fill: #333; }
      .subtitle { font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; fill: #666; }
      .component { font-family: Arial, sans-serif; font-size: 12px; fill: #333; }
      .layer { fill: #f8f8f8; stroke: #000; stroke-width: 2; }
      .client { fill: #e1f5fe; stroke: #01579b; stroke-width: 2; }
      .api { fill: #e3f2fd; stroke: #000; stroke-width: 2; }
      .core { fill: #f3e5f5; stroke: #000; stroke-width: 2; }
      .data { fill: #e8f5e8; stroke: #000; stroke-width: 2; }
      .monitoring { fill: #fff8e1; stroke: #000; stroke-width: 2; }
      .regional { fill: #f1f8e9; stroke: #33691e; stroke-width: 2; }
      .arrow { fill: none; stroke: #666; stroke-width: 2; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" class="title">HelixFlow AI Inference Platform - System Architecture</text>

  <!-- Client Layer -->
  <rect x="50" y="50" width="1100" height="100" class="layer" rx="10"/>
  <text x="600" y="75" text-anchor="middle" class="subtitle">Client Layer</text>

  <rect x="70" y="85" width="160" height="50" class="client" rx="5"/>
  <text x="150" y="105" text-anchor="middle" class="component">Web Client</text>
  <text x="150" y="120" text-anchor="middle" class="component">(Angular)</text>

  <rect x="250" y="85" width="160" height="50" class="client" rx="5"/>
  <text x="330" y="105" text-anchor="middle" class="component">Mobile Clients</text>
  <text x="330" y="120" text-anchor="middle" class="component">Android, iOS, HarmonyOS</text>

  <rect x="430" y="85" width="160" height="50" class="client" rx="5"/>
  <text x="510" y="105" text-anchor="middle" class="component">Desktop Clients</text>
  <text x="510" y="120" text-anchor="middle" class="component">Windows, macOS, Linux</text>

  <rect x="610" y="85" width="160" height="50" class="client" rx="5"/>
  <text x="690" y="105" text-anchor="middle" class="component">Admin Control Panel</text>
  <text x="690" y="120" text-anchor="middle" class="component">(Angular)</text>

  <!-- API Gateway Layer -->
  <rect x="50" y="180" width="1100" height="80" class="api" rx="10"/>
  <text x="600" y="205" text-anchor="middle" class="subtitle">API Gateway & Load Balancer Layer</text>

  <rect x="70" y="215" width="180" height="35" fill="#f3e5f5" stroke="#4a148c" stroke-width="2" rx="5"/>
  <text x="160" y="230" text-anchor="middle" class="component">Nginx/Traefik Gateway</text>
  <text x="160" y="245" text-anchor="middle" class="component">Rate Limiting, SSL, DDoS</text>

  <rect x="270" y="215" width="180" height="35" fill="#e8eaf6" stroke="#1a237e" stroke-width="2" rx="5"/>
  <text x="360" y="230" text-anchor="middle" class="component">Authentication Service</text>
  <text x="360" y="245" text-anchor="middle" class="component">JWT, OAuth2, RBAC</text>

  <rect x="470" y="215" width="180" height="35" fill="#f1f8e9" stroke="#33691e" stroke-width="2" rx="5"/>
  <text x="560" y="230" text-anchor="middle" class="component">Request Router</text>
  <text x="560" y="245" text-anchor="middle" class="component">Model Selection, Load Balancing</text>

  <rect x="670" y="215" width="180" height="35" fill="#fff8e1" stroke="#f57f17" stroke-width="2" rx="5"/>
  <text x="760" y="230" text-anchor="middle" class="component">Billing & Usage Service</text>
  <text x="760" y="245" text-anchor="middle" class="component">Stripe, Regional Billing</text>

  <!-- Core Services Layer -->
  <rect x="50" y="290" width="1100" height="100" class="core" rx="10"/>
  <text x="600" y="315" text-anchor="middle" class="subtitle">Core Services Layer</text>

  <rect x="70" y="325" width="180" height="50" fill="#e3f2fd" stroke="#0277bd" stroke-width="2" rx="5"/>
  <text x="160" y="340" text-anchor="middle" class="component">HelixFlow API</text>
  <text x="160" y="355" text-anchor="middle" class="component">Go + Gin Framework</text>
  <text x="160" y="370" text-anchor="middle" class="component">OpenAI Compatible</text>

  <rect x="270" y="325" width="180" height="50" fill="#f1f8e9" stroke="#558b2f" stroke-width="2" rx="5"/>
  <text x="360" y="340" text-anchor="middle" class="component">Model Router & Orchestrator</text>
  <text x="360" y="355" text-anchor="middle" class="component">Dynamic Model Selection</text>
  <text x="360" y="370" text-anchor="middle" class="component">Regional LLM Management</text>

  <rect x="470" y="325" width="180" height="50" fill="#fff3e0" stroke="#f57c00" stroke-width="2" rx="5"/>
  <text x="560" y="340" text-anchor="middle" class="component">Inference Engine Pool</text>
  <text x="560" y="355" text-anchor="middle" class="component">GPU Clusters (NVIDIA/AMD)</text>
  <text x="560" y="370" text-anchor="middle" class="component">CUDA/ROCm Support</text>

  <rect x="670" y="325" width="180" height="50" fill="#fce4ec" stroke="#c2185b" stroke-width="2" rx="5"/>
  <text x="760" y="340" text-anchor="middle" class="component">Cache & Storage Layer</text>
  <text x="760" y="355" text-anchor="middle" class="component">Redis, Model Cache, CDN</text>

  <!-- Data Layer -->
  <rect x="50" y="420" width="1100" height="80" class="data" rx="10"/>
  <text x="600" y="445" text-anchor="middle" class="subtitle">Data Layer</text>

  <ellipse cx="160" cy="470" rx="80" ry="25" fill="#fffde7" stroke="#f9a825" stroke-width="2"/>
  <text x="160" y="465" text-anchor="middle" class="component">PostgreSQL + SQLCipher</text>
  <text x="160" y="480" text-anchor="middle" class="component">Encrypted Database</text>

  <ellipse cx="360" cy="470" rx="80" ry="25" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2"/>
  <text x="360" y="465" text-anchor="middle" class="component">Redis Cluster</text>
  <text x="360" y="480" text-anchor="middle" class="component">Session & Results Cache</text>

  <ellipse cx="560" cy="470" rx="80" ry="25" fill="#e0f2f1" stroke="#00695c" stroke-width="2"/>
  <text x="560" y="465" text-anchor="middle" class="component">Model Storage</text>
  <text x="560" y="480" text-anchor="middle" class="component">S3/MinIO, Regional</text>

  <!-- DevOps & Monitoring Layer -->
  <rect x="50" y="530" width="1100" height="100" class="monitoring" rx="10"/>
  <text x="600" y="555" text-anchor="middle" class="subtitle">DevOps & Monitoring Layer</text>

  <rect x="70" y="565" width="120" height="50" fill="#e8eaf6" stroke="#283593" stroke-width="2" rx="5"/>
  <text x="130" y="580" text-anchor="middle" class="component">Prometheus</text>
  <text x="130" y="595" text-anchor="middle" class="component">Metrics Collection</text>

  <rect x="210" y="565" width="120" height="50" fill="#f3e5f5" stroke="#6a1b9a" stroke-width="2" rx="5"/>
  <text x="270" y="580" text-anchor="middle" class="component">Grafana</text>
  <text x="270" y="595" text-anchor="middle" class="component">Visualization</text>

  <rect x="350" y="565" width="120" height="50" fill="#e8f5e8" stroke="#2e7d32" stroke-width="2" rx="5"/>
  <text x="410" y="580" text-anchor="middle" class="component">SonarQube</text>
  <text x="410" y="595" text-anchor="middle" class="component">Code Quality</text>

  <rect x="490" y="565" width="120" height="50" fill="#fff3e0" stroke="#ef6c00" stroke-width="2" rx="5"/>
  <text x="550" y="580" text-anchor="middle" class="component">Snyk</text>
  <text x="550" y="595" text-anchor="middle" class="component">Security Scanning</text>

  <rect x="630" y="565" width="150" height="50" fill="#fce4ec" stroke="#ad1457" stroke-width="2" rx="5"/>
  <text x="705" y="580" text-anchor="middle" class="component">Testing Services</text>
  <text x="705" y="595" text-anchor="middle" class="component">Unit, E2E, Performance</text>

  <!-- Regional Deployment -->
  <path d="M 850 530 Q 900 500 950 530 Q 1000 500 1050 530 L 1050 630 Q 1000 660 950 630 Q 900 660 850 630 Z" class="regional"/>
  <text x="950" y="570" text-anchor="middle" class="component">Regional Deployment</text>
  <text x="950" y="585" text-anchor="middle" class="component">Geo-Distributed Instances</text>
  <text x="950" y="600" text-anchor="middle" class="component">USQA, Europe, Russia/Belarus,</text>
  <text x="950" y="615" text-anchor="middle" class="component">China, India, Brazil, RoW</text>

  <!-- Connection Arrows -->
  <line x1="150" y1="135" x2="150" y2="180" class="arrow"/>
  <line x1="330" y1="135" x2="330" y2="180" class="arrow"/>
  <line x1="510" y1="135" x2="510" y2="180" class="arrow"/>
  <line x1="690" y1="135" x2="690" y2="180" class="arrow"/>

  <line x1="160" y1="250" x2="160" y2="290" class="arrow"/>
  <line x1="360" y1="250" x2="360" y2="290" class="arrow"/>
  <line x1="560" y1="250" x2="560" y2="290" class="arrow"/>
  <line x1="760" y1="250" x2="760" y2="290" class="arrow"/>

  <line x1="160" y1="390" x2="160" y2="420" class="arrow"/>
  <line x1="360" y1="390" x2="360" y2="420" class="arrow"/>
  <line x1="560" y1="390" x2="560" y2="420" class="arrow"/>
  <line x1="760" y1="390" x2="760" y2="420" class="arrow"/>

  <line x1="160" y1="505" x2="160" y2="530" class="arrow"/>
  <line x1="270" y1="505" x2="270" y2="530" class="arrow"/>
  <line x1="410" y1="505" x2="410" y2="530" class="arrow"/>
  <line x1="550" y1="505" x2="550" y2="530" class="arrow"/>
  <line x1="705" y1="505" x2="705" y2="530" class="arrow"/>
</svg>